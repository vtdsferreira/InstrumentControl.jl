<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Implementation - InstrumentControl.jl</title>
      
      
      
      
        <meta name="author" content="Andrew Keller">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="InstrumentControl.jl">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="InstrumentControl.jl">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../assets/Documenter.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-indigo palette-accent-blue">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Overview <i class="icon icon-link"></i>
              
            
          </span>
        
        Implementation
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/PainterQubits/InstrumentControl.jl" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          InstrumentControl.jl
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          PainterQubits/InstrumentControl.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/PainterQubits/InstrumentControl.jl/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/PainterQubits/InstrumentControl.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Overview</span>
    <ul>
      
        
  <li>
    <a class="" title="Design" href="../design/">
      Design
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Implementation" href="./">
      Implementation
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="Code organization" href="#code-organization">
                Code organization
              </a>
            </li>
          
            <li class="anchor">
              <a title="Metaprogramming for VISA instruments" href="#metaprogramming-for-visa-instruments">
                Metaprogramming for VISA instruments
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="To do" href="../todo/">
      To do
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Instruments</span>
    <ul>
      
        
  <li>
    <a class="" title="Alazar digitizers" href="../Alazar/">
      Alazar digitizers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="AWG5014C" href="../awg5014c/">
      AWG5014C
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="E5071C" href="../e5071c/">
      E5071C
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Miscellaneous</span>
    <ul>
      
        
  <li>
    <a class="" title="Documentation building" href="../docbuild/">
      Documentation building
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Release notes" href="../releases/">
      Release notes
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="License" href="../LICENSE/">
      License
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <p><a id='Implementation-overview-1'></a></p>
<h1 id="implementation-overview">Implementation overview</h1>
<p><a id='Code-organization-1'></a></p>
<h2 id="code-organization">Code organization</h2>
<ul>
<li>Each instrument is defined within its own module, a submodule of <code>InstrumentControl</code>. Each instrument is a subtype of <code>InstrumentVISA &lt;: Instrument</code>. By convention, instrument model numbers are used for module definitions (e.g. <code>AWG5014C</code>), so type names have "Ins" prepended (e.g. <code>InsAWG5014</code>).</li>
<li><code>InstrumentVISA</code> and associated functions are defined in <code>src/VISA.jl</code>.</li>
<li>Low-level wrappers for shared libraries are kept in their own packages (e.g. <code>VISA</code> and <code>Alazar</code> calls). This way, at least some code can be reused if someone else does not want to use our codebase.</li>
<li>Early instrument definitions and functions like <code>Instrument</code> and <code>InstrumentException</code> are defined in <code>src/Definitions.jl</code>. If there is ever trouble with <code>InstrumentProperty</code> subtypes not being defined by the time they are used in a function, they can be defined and exported manually here.</li>
<li><code>export</code> statements from an instrument submodule are not currently exported from <code>InstrumentControl</code>. Therefore you may want to type <code>using InstrumentControl.AWG5014C</code> when using the AWG, for instance.</li>
</ul>
<p><a id='Metaprogramming-for-VISA-instruments-1'></a></p>
<h2 id="metaprogramming-for-visa-instruments">Metaprogramming for VISA instruments</h2>
<p>Many commercial instruments support a common communications protocol and command syntax (VISA and SCPI respectively). For such instruments, methods for <code>setindex!</code> and <code>getindex</code> can be generated with metaprogramming, rather than typing them out explicitly.</p>
<p>The file <code>src/Metaprogramming.jl</code> is used heavily for code generation based on JSON template files. Since much of the logic for talking to instruments is the same between VISA instruments, in some cases no code needs to be written to control a new instrument provided an appropriate template file is prepared. The metaprogramming functions are described below although they are not intended to be used interactively. &lt;!–</p>
<p><a id='InstrumentControl.insjson' href='#InstrumentControl.insjson'>#</a>
<strong><code>InstrumentControl.insjson</code></strong> &mdash; <em>Function</em>.</p>
<p><code>insjson{T&lt;:Instrument}(::Type{T})</code></p>
<p>Simple wrapper to call <code>insjson</code> on the appropriate file path for a given instrument type.</p>
<p><code>insjson(file::AbstractString)</code></p>
<p>Parses a JSON file with a standardized schema to describe how to control an instrument.</p>
<p>Here is an example of a valid JSON file with valid schema for parsing:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;instrument&quot;</span><span class="p">:{</span>
            <span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="s2">&quot;E5071C&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;InsE5071C&quot;</span><span class="p">,</span>
            <span class="nt">&quot;make&quot;</span><span class="p">:</span><span class="s2">&quot;Keysight&quot;</span><span class="p">,</span>
            <span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="s2">&quot;E5071C&quot;</span><span class="p">,</span>
            <span class="nt">&quot;writeterminator&quot;</span><span class="p">:</span><span class="s2">&quot;\n&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;properties&quot;</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="s2">&quot;:CALCch:TRACtr:CORR:EDEL:TIME&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;VNA.ElectricalDelay&quot;</span><span class="p">,</span>
            <span class="nt">&quot;values&quot;</span><span class="p">:[</span>
                <span class="s2">&quot;v::Real&quot;</span>
            <span class="p">],</span>
            <span class="nt">&quot;infixes&quot;</span><span class="p">:[</span>
                <span class="s2">&quot;ch::Integer=1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tr::Integer=1&quot;</span>
            <span class="p">],</span>
            <span class="nt">&quot;doc&quot;</span><span class="p">:</span> <span class="s2">&quot;My documentation&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>After loading with <code>JSON.parse</code>, all dictionary keys are converted to symbols. The <code>instrument</code> dictionary is described in the <a href="./#InstrumentControl.generate_instruments"><code>generate_instruments</code></a> documentation. The <code>properties</code> array contains one or more dictionaries, each with keys:</p>
<ul>
<li><code>cmd</code>: Specifies what must be sent to the instrument (it should be terminated with "?" for query-only). The lower-case characters are replaced by infix arguments.</li>
<li><code>type</code>: Specifies the <code>InstrumentProperty</code> subtype to use this command. Will be parsed and evaluated.</li>
<li><code>values</code>: Specifies the required arguments for <code>setindex!</code> which will appear after <code>cmd</code> in the string sent to the instrument.</li>
<li><code>infixes</code>: Specifies the infix arguments in <code>cmd</code>. Symbol names must match infix arguments. This key is not required if there are no infixes.</li>
<li><code>doc</code>: Specifies documentation for the generated Julia functions. This key is not required if there is no documentation. This is used not only for interactive help but also in generating the documentation you are reading.</li>
</ul>
<p>The value of the <code>properties.type</code> field and entries in the <code>properties.values</code> and <code>properties.infixes</code> arrays are parsed by Julia into expressions or symbols for further manipulation.</p>
<p><a id='InstrumentControl.generate_all' href='#InstrumentControl.generate_all'>#</a>
<strong><code>InstrumentControl.generate_all</code></strong> &mdash; <em>Function</em>.</p>
<p><code>generate_all(metadata)</code></p>
<p>This function takes a dictionary of instrument metadata, typically obtained from a call to <a href="./#InstrumentControl.insjson"><code>insjson</code></a>. It will go through the following steps:</p>
<ol>
<li><a href="./#InstrumentControl.generate_instruments"><code>generate_instruments</code></a> part 1: If the module for this instrument does not already exist, generate it and import required modules and symbols.</li>
<li><a href="./#InstrumentControl.generate_instruments"><code>generate_instruments</code></a> part 2: Define the <code>Instrument</code> subtype and the <code>make</code> and <code>model</code> methods (<code>make</code> and <code>model</code> are defined in <code>src/Definitions.jl</code>). Export the subtype.</li>
<li><a href="./#InstrumentControl.generate_properties"><code>generate_properties</code></a>: Generate instrument properties if they do not exist already, and do any necessary importing and exporting.</li>
<li><a href="./#InstrumentControl.generate_handlers"><code>generate_handlers</code></a>: Generate "handler" methods to convert between symbols and SCPI string args.</li>
<li><a href="./#InstrumentControl.generate_inspect"><code>generate_inspect</code></a>: Generate <code>getindex</code> methods for instrument properties.</li>
<li><a href="./#InstrumentControl.generate_configure"><code>generate_configure</code></a>: Generate <code>setindex!</code> methods for instrument properties.</li>
</ol>
<p><code>generate_all</code> should be called near the start of an instrument's .jl file, if one exists. It is not required to have a source file for each instrument if the automatically generated code is sufficient.</p>
<p><a id='InstrumentControl.generate_instruments' href='#InstrumentControl.generate_instruments'>#</a>
<strong><code>InstrumentControl.generate_instruments</code></strong> &mdash; <em>Function</em>.</p>
<p><code>generate_instruments(metadata)</code></p>
<p>This function takes a dictionary of metadata, typically obtained from a call to <a href="./#InstrumentControl.insjson"><code>insjson</code></a>. It operates on the <code>:instrument</code> field of the dictionary which is expected to have the following structure:</p>
<ul>
<li><code>module</code>: The module name. Can already exist but is created if it does not. This field is converted from a string to a <code>Symbol</code> by <a href="./#InstrumentControl.insjson"><code>insjson</code></a>.</li>
<li><code>type</code>: The name of the type to create for the new instrument. This field is converted from a string to a <code>Symbol</code> by <a href="./#InstrumentControl.insjson"><code>insjson</code></a>.</li>
<li><code>super</code>: This field is optional. If provided it will be the supertype of the new instrument type, otherwise the supertype will be <code>InstrumentVISA</code>. This field is converted from a string to a <code>Symbol</code> by <a href="./#InstrumentControl.insjson"><code>insjson</code></a>.</li>
<li><code>make</code>: The make of the instrument, e.g. Keysight, Tektronix, etc.</li>
<li><code>model</code>: The model of the instrument, e.g. E5071C, AWG5014C, etc.</li>
<li><code>writeterminator</code>: Write termination string for sending SCPI commands.</li>
</ul>
<p>By convention we typically have the module name be the same as the model name, and the type is just the model prefixed by "Ins", e.g. <code>InsE5071C</code>. This is not required.</p>
<p><a id='InstrumentControl.generate_properties' href='#InstrumentControl.generate_properties'>#</a>
<strong><code>InstrumentControl.generate_properties</code></strong> &mdash; <em>Function</em>.</p>
<p><code>generate_properties{S&lt;:Instrument}(instype::Type{S}, p)</code></p>
<p>This function takes an <code>Instrument</code> subtype <code>instype</code>, and a property dictionary <code>p</code>. The property dictionary is built out of an auxiliary JSON file described above.</p>
<p>This function is responsible for generating the <code>InstrumentProperty</code> subtypes to use with <code>getindex</code> and <code>setindex!</code> if they have not been defined already. Ordinarily these types are defined in the InstrumentControl module but if a really generic name is desired that makes sense for a class of instruments (e.g. <code>VNA.Format</code>) then the <code>Format</code> subtype is defined in the <code>InstrumentControl.VNA</code> module. The defined subtype is then imported into the module where the <code>instype</code> is defined.</p>
<p>If you an encounter an error where it appears like the subtypes were not defined, it may be that they are being referenced from a module that did an <code>import</code> statement too soon, before all relevant <code>InstrumentProperty</code> subtypes were defined and exported. Ordinarily this is not a problem.</p>
<p><a id='InstrumentControl.generate_handlers' href='#InstrumentControl.generate_handlers'>#</a>
<strong><code>InstrumentControl.generate_handlers</code></strong> &mdash; <em>Function</em>.</p>
<p><code>generate_handlers{S&lt;:Instrument}(instype::Type{S}, p)</code></p>
<p>This function takes an <code>Instrument</code> subtype <code>instype</code>, and a property dictionary <code>p</code>. The property dictionary is built out of an auxiliary JSON file described above.</p>
<p>In some cases, an instrument command does not except numerical arguments but rather a small set of options. Here is an example of the property dictionary (prior to parsing) for such a command, which sets/gets the format for a given channel and trace on the E5071C vector network analyzer:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;cmd&quot;</span><span class="p">:</span><span class="s2">&quot;:CALCch:TRACtr:FORM&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;VNA.Format&quot;</span><span class="p">,</span>
    <span class="nt">&quot;values&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;v::Symbol in symbols&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;symbols&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;LogMagnitude&quot;</span><span class="p">:</span><span class="s2">&quot;MLOG&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Phase&quot;</span><span class="p">:</span><span class="s2">&quot;PHAS&quot;</span><span class="p">,</span>
        <span class="nt">&quot;GroupDelay&quot;</span><span class="p">:</span><span class="s2">&quot;GDEL&quot;</span><span class="p">,</span>
        <span class="nt">&quot;SmithLinear&quot;</span><span class="p">:</span><span class="s2">&quot;SLIN&quot;</span><span class="p">,</span>
        <span class="nt">&quot;SmithLog&quot;</span><span class="p">:</span><span class="s2">&quot;SLOG&quot;</span><span class="p">,</span>
        <span class="nt">&quot;SmithComplex&quot;</span><span class="p">:</span><span class="s2">&quot;SCOM&quot;</span><span class="p">,</span>
        <span class="nt">&quot;Smith&quot;</span><span class="p">:</span><span class="s2">&quot;SMIT&quot;</span><span class="p">,</span>
        <span class="nt">&quot;SmithAdmittance&quot;</span><span class="p">:</span><span class="s2">&quot;SADM&quot;</span><span class="p">,</span>
        <span class="nt">&quot;PolarLinear&quot;</span><span class="p">:</span><span class="s2">&quot;PLIN&quot;</span><span class="p">,</span>
        <span class="nt">&quot;PolarLog&quot;</span><span class="p">:</span><span class="s2">&quot;PLOG&quot;</span><span class="p">,</span>
        <span class="nt">&quot;PolarComplex&quot;</span><span class="p">:</span><span class="s2">&quot;POL&quot;</span><span class="p">,</span>
        <span class="nt">&quot;LinearMagnitude&quot;</span><span class="p">:</span><span class="s2">&quot;MLIN&quot;</span><span class="p">,</span>
        <span class="nt">&quot;SWR&quot;</span><span class="p">:</span><span class="s2">&quot;SWR&quot;</span><span class="p">,</span>
        <span class="nt">&quot;RealPart&quot;</span><span class="p">:</span><span class="s2">&quot;REAL&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ImagPart&quot;</span><span class="p">:</span><span class="s2">&quot;IMAG&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ExpandedPhase&quot;</span><span class="p">:</span><span class="s2">&quot;UPH&quot;</span><span class="p">,</span>
        <span class="nt">&quot;PositivePhase&quot;</span><span class="p">:</span><span class="s2">&quot;PPH&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;infixes&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;ch::Integer=1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tr::Integer=1&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;doc&quot;</span><span class="p">:</span><span class="s2">&quot;Hey&quot;</span>
<span class="p">}</span>
</pre></div>


<p>We see here that the <code>values</code> key is saying that we are only going to accept <code>Symbol</code> type for our <code>setindex!</code> method and the symbol has to come out of <code>symbols</code>, a dictionary that is defined on the next line. The keys of this dictionary are going to be interpreted as symbols (e.g. <code>:LogMagnitude</code>) and the values are just ASCII strings to be sent to the instrument.</p>
<p><code>generate_handlers</code> makes a bidirectional mapping between the symbols and the strings. In this example, this is accomplished as follows:</p>
<div class="codehilite"><pre><span></span><span class="n">symbols</span><span class="p">(</span><span class="n">ins</span><span class="p">::</span><span class="n">E5071C</span><span class="p">,</span> <span class="p">::</span><span class="n">Type</span><span class="p">{</span><span class="n">VNA</span><span class="o">.</span><span class="n">Format</span><span class="p">},</span> <span class="n">v</span><span class="p">::</span><span class="n">Symbol</span><span class="p">)</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="n">ins</span><span class="p">,</span> <span class="n">VNA</span><span class="o">.</span><span class="n">Format</span><span class="p">,</span> <span class="n">Val</span><span class="p">{</span><span class="n">v</span><span class="p">})</span>
<span class="n">symbols</span><span class="p">(</span><span class="n">ins</span><span class="p">::</span><span class="n">E5071C</span><span class="p">,</span> <span class="p">::</span><span class="n">Type</span><span class="p">{</span><span class="n">VNA</span><span class="o">.</span><span class="n">Format</span><span class="p">},</span> <span class="p">::</span><span class="n">Type</span><span class="p">{</span><span class="n">Val</span><span class="p">{:</span><span class="n">LogMagnitude</span><span class="p">}})</span> <span class="o">=</span> <span class="s">&quot;MLOG&quot;</span> <span class="c"># ... etc. for each symbol.</span>

<span class="n">VNA</span><span class="o">.</span><span class="n">Format</span><span class="p">(</span><span class="n">ins</span><span class="p">::</span><span class="n">E5071C</span><span class="p">,</span> <span class="n">s</span><span class="p">::</span><span class="n">AbstractString</span><span class="p">)</span> <span class="o">=</span> <span class="n">VNA</span><span class="o">.</span><span class="n">Format</span><span class="p">(</span><span class="n">ins</span><span class="p">,</span> <span class="n">Val</span><span class="p">{</span><span class="n">symbol</span><span class="p">(</span><span class="n">s</span><span class="p">)})</span>
<span class="n">VNA</span><span class="o">.</span><span class="n">Format</span><span class="p">(</span><span class="n">ins</span><span class="p">::</span><span class="n">E5071C</span><span class="p">,</span> <span class="p">::</span><span class="n">Type</span><span class="p">{</span><span class="n">Val</span><span class="p">{</span><span class="n">symbol</span><span class="p">(</span><span class="s">&quot;MLOG&quot;</span><span class="p">)}})</span> <span class="o">=</span> <span class="p">:</span><span class="n">LogMagnitude</span> <span class="c"># ... etc. for each symbol.</span>
</pre></div>


<p>The above methods will be defined in the E5071C module. Note that the function <code>symbols</code> has its name chosen based on the dictionary name in the JSON file. Since this function is not exported from the instrument's module there should be few namespace worries and we maintain future flexibliity.</p>
<p><a id='InstrumentControl.generate_configure' href='#InstrumentControl.generate_configure'>#</a>
<strong><code>InstrumentControl.generate_configure</code></strong> &mdash; <em>Function</em>.</p>
<p><code>generate_configure{S&lt;:Instrument}(instype::Type{S}, p)</code></p>
<p>This function takes an <code>Instrument</code> subtype <code>instype</code>, and a property dictionary <code>p</code>. The property dictionary is built out of an auxiliary JSON file described above.</p>
<p>This function generates and documents a method for <code>getindex</code>. The method is defined in the module where the instrument type was defined.</p>
<p><a id='InstrumentControl.generate_inspect' href='#InstrumentControl.generate_inspect'>#</a>
<strong><code>InstrumentControl.generate_inspect</code></strong> &mdash; <em>Function</em>.</p>
<p><code>generate_inspect{S&lt;:Instrument}(instype::Type{S}, p)</code></p>
<p>This function takes an <code>Instrument</code> subtype <code>instype</code>, and a property dictionary <code>p</code>. The property dictionary is built out of an auxiliary JSON file described above.</p>
<p>This function generates and documents a method for <code>getindex</code>. The method is defined in the module where the instrument type was defined.</p>
<p>–&gt;</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../design/" title="Design">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Design
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../todo/" title="To do">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                To do
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'PainterQubits/InstrumentControl.jl';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
      <script src="../assets/mathjaxhelper.js"></script>
    
    
  </body>
</html>